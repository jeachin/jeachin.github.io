<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Ganache搭建一个以太坊投票dapp的Demo | 小C的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="工具及技术框架 智能合约编写工具：Remix，个人喜欢用remix写智能合约，写好智能合约直接部署测试，把写好的合约代码再放到拷贝出来放到项目中进行编译  前端页面编写工具：vscode  环境：node：v14.17.0、npm：6.14.13  依赖包：&quot;ganache-cli&quot;: &quot;^6.12.2&quot;, &quot;solc&quot;: &quot;^">
<meta property="og:type" content="article">
<meta property="og:title" content="Ganache搭建一个以太坊投票dapp的Demo">
<meta property="og:url" content="https://mrxccc.github.io/posts/78ae6864.html">
<meta property="og:site_name" content="小C的博客">
<meta property="og:description" content="工具及技术框架 智能合约编写工具：Remix，个人喜欢用remix写智能合约，写好智能合约直接部署测试，把写好的合约代码再放到拷贝出来放到项目中进行编译  前端页面编写工具：vscode  环境：node：v14.17.0、npm：6.14.13  依赖包：&quot;ganache-cli&quot;: &quot;^6.12.2&quot;, &quot;solc&quot;: &quot;^">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://mrxccc.github.io/img/image-20210629174325035.png">
<meta property="og:image" content="https://mrxccc.github.io/img/voting2.png">
<meta property="article:published_time" content="2021-01-29T07:32:12.000Z">
<meta property="article:modified_time" content="2024-12-04T09:00:22.704Z">
<meta property="article:author" content="mrxccc">
<meta property="article:tag" content="区块链">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://mrxccc.github.io/img/image-20210629174325035.png">
  
    <link rel="alternate" href="/atom.xml" title="小C的博客" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">小C的博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://mrxccc.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-搭建一个以太坊投票dapp的Demo，感受区块链的魅力" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/78ae6864.html" class="article-date">
  <time class="dt-published" datetime="2021-01-29T07:32:12.000Z" itemprop="datePublished">2021-01-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Ganache搭建一个以太坊投票dapp的Demo
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="工具及技术框架"><a href="#工具及技术框架" class="headerlink" title="工具及技术框架"></a>工具及技术框架</h2><ul>
<li><p>智能合约编写工具：Remix，个人喜欢用remix写智能合约，写好智能合约直接部署测试，把写好的合约代码再放到拷贝出来放到项目中进行编译</p>
</li>
<li><p>前端页面编写工具：vscode</p>
</li>
<li><p>环境：node：v14.17.0、npm：6.14.13</p>
</li>
<li><p>依赖包：<code>&quot;ganache-cli&quot;: &quot;^6.12.2&quot;, &quot;solc&quot;: &quot;^0.4.22&quot;,&quot;web3&quot;: &quot;^1.3.6&quot;</code></p>
<p>关于几个依赖包的简要介绍：</p>
</li>
</ul>
<p><strong>Ganache CLI</strong></p>
<p>Ganache CLI是以太坊开发工具Truffle套件的一部分，是以太坊开发私有区块链的Ganache命令行版本，用于测试和开发的快速以太坊RPC客户端，用于测试和开发的快速以太坊RPC客户端。ganache-cli是用Javascript编写的，并通过npm作为Node包进行分发。安装之前首先要确保安装了Node.js（&gt; &#x3D; v6.11.5）。</p>
<blockquote>
<p>旨在快速搭建一个小demo，就没有用geth客户端去搭建一个本地私有链，直接用Ganache建一个干净纯粹的模拟节点进行测试，跟在Remix上用JavaScript VM测试合约是一个原理</p>
</blockquote>
<p><strong>solc</strong></p>
<p>solidity编写的以太坊智能合约可通过命令行编译工具solc来进行编译，成为以太坊虚拟机中的代码。solc编译后最终部署到链上形成我们所见到的各种智能合约。</p>
<p><strong>web3</strong></p>
<p>web3.js是一个库集合，你可以使用HTTP或IPC连接本地或远程以太它节点进行交互。 web3的JavaScript库能够与以太坊区块链交互。 它可以检索用户帐户，发送交易，与智能合约交互等。</p>
<p>以上的三个依赖包具体的信息就不详细介绍</p>
<h2 id="工程结构"><a href="#工程结构" class="headerlink" title="工程结构"></a>工程结构</h2><p>首先使用<code>node init</code>初始化一个node项目，这里取名字为<code>simple_voting_dapp</code></p>
<p>项目根目录安装依赖：npm i <a href="mailto:&#103;&#x61;&#x6e;&#97;&#99;&#x68;&#101;&#45;&#x63;&#108;&#x69;&#64;&#54;&#46;&#x31;&#50;&#x2e;&#x32;">&#103;&#x61;&#x6e;&#97;&#99;&#x68;&#101;&#45;&#x63;&#108;&#x69;&#64;&#54;&#46;&#x31;&#50;&#x2e;&#x32;</a> <a href="mailto:&#x73;&#111;&#x6c;&#x63;&#64;&#x30;&#x2e;&#x34;&#46;&#x32;&#50;">&#x73;&#111;&#x6c;&#x63;&#64;&#x30;&#x2e;&#x34;&#46;&#x32;&#50;</a> <a href="mailto:&#119;&#101;&#x62;&#x33;&#x40;&#49;&#46;&#51;&#46;&#54;">&#119;&#101;&#x62;&#x33;&#x40;&#49;&#46;&#51;&#46;&#54;</a></p>
<p>安装完成后package.json应该是如下信息</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;simple_voting_dapp&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;ganache-cli&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^6.12.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;solc&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.4.22&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;web3&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.3.6&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>接着创建如下目录结构及代码</p>
<p><img src="/img/image-20210629174325035.png" alt="image-20210629174325035"></p>
<h2 id="投票合约"><a href="#投票合约" class="headerlink" title="投票合约"></a>投票合约</h2><p>本例子中的投票合约是一个非常简单的合约，代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.22;</span><br><span class="line"></span><br><span class="line">contract Voting &#123;</span><br><span class="line">    bytes32[] public canditateList;</span><br><span class="line">    mapping (bytes32 =&gt; uint8) public votesReceived;</span><br><span class="line">    constructor() public &#123;</span><br><span class="line">        canditateList = getBytes32ArrayForInput();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    function validateCandidate(bytes32 candiateName) internal view returns(bool)&#123;</span><br><span class="line">        for(uint8 i = 0;i&lt;canditateList.length; i++)&#123;</span><br><span class="line">            if(candiateName == canditateList[i])</span><br><span class="line">                return true;</span><br><span class="line">        &#125;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    function vote(bytes32 candiateListName) public payable returns(bytes32)&#123;</span><br><span class="line">        require(validateCandidate(candiateListName));</span><br><span class="line">        votesReceived[candiateListName] +=1;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    function totalVotesFor(bytes32 candiateName) public view returns(uint8)&#123;</span><br><span class="line">        require(validateCandidate(candiateName));</span><br><span class="line">        return votesReceived[candiateName];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    function getBytes32ArrayForInput() pure public returns (bytes32[3] b32Arr) &#123;</span><br><span class="line">        b32Arr = [bytes32(&quot;Candidate&quot;), bytes32(&quot;Alice&quot;), bytes32(&quot;Cary&quot;)];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>变量说明</strong>：</p>
<p>canditateList：投票的对象</p>
<p>votesReceived：投票的对象—&gt;获得的总票数。一个映射</p>
<p><strong>构造函数</strong>：</p>
<p>调用getBytes32ArrayForInput函数初始化三个投票对象至canditateList中</p>
<p><strong>函数</strong></p>
<p>validateCandidate：一个internal、view的函数，返回目标是否在投票对象列表中</p>
<p>vote：给制定投票对象进行投票</p>
<p>totalVotesFor：查看指定对象的获得票数</p>
<h2 id="编译脚本compile-js"><a href="#编译脚本compile-js" class="headerlink" title="编译脚本compile.js"></a>编译脚本compile.js</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs-extra&#x27;</span>); </span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>); </span><br><span class="line"><span class="keyword">const</span> solc = <span class="built_in">require</span>(<span class="string">&#x27;solc&#x27;</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">// cleanup 清除之前已编译的文件</span></span><br><span class="line"><span class="keyword">const</span> compiledDir = path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../compiled&#x27;</span>);</span><br><span class="line">fs.<span class="title function_">removeSync</span>(compiledDir); </span><br><span class="line">fs.<span class="title function_">ensureDirSync</span>(compiledDir);</span><br><span class="line"><span class="comment">// compile 开始编译合约</span></span><br><span class="line"><span class="keyword">const</span> contractPath = path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../../contract&#x27;</span>, </span><br><span class="line"><span class="string">&#x27;voting.sol&#x27;</span>); </span><br><span class="line"><span class="keyword">const</span> contractSource = fs.<span class="title function_">readFileSync</span>(contractPath, <span class="string">&#x27;utf8&#x27;</span>); </span><br><span class="line"><span class="keyword">const</span> result = solc.<span class="title function_">compile</span>(contractSource, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// check errors 检查错误</span></span><br><span class="line"><span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(result.<span class="property">errors</span>) &amp;&amp; result.<span class="property">errors</span>.<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(result.<span class="property">errors</span>[<span class="number">0</span>]); </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// save to disk 保存到指定目录compiled目录中</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">keys</span>(result.<span class="property">contracts</span>).<span class="title function_">forEach</span>( <span class="function"><span class="params">name</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> contractName = name.<span class="title function_">replace</span>(<span class="regexp">/^:/</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> filePath = path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../compiled&#x27;</span>, </span><br><span class="line">    <span class="string">`<span class="subst">$&#123;contractName&#125;</span>.json`</span>);</span><br><span class="line">    fs.<span class="title function_">outputJsonSync</span>(filePath, result.<span class="property">contracts</span>[name]);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`save compiled contract <span class="subst">$&#123;contractName&#125;</span> to </span></span><br><span class="line"><span class="string">    <span class="subst">$&#123;filePath&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>部署脚本deploy.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Web3</span> = <span class="built_in">require</span>(<span class="string">&#x27;web3&#x27;</span>);</span><br><span class="line"><span class="comment">// 连接到ganache启动的节点</span></span><br><span class="line"><span class="keyword">const</span> web3 = <span class="keyword">new</span> <span class="title class_">Web3</span>(<span class="keyword">new</span> <span class="title class_">Web3</span>.<span class="property">providers</span>.<span class="title class_">HttpProvider</span>(<span class="string">&#x27;http://localhost:8545&#x27;</span>));</span><br><span class="line"><span class="comment">// 1. 拿到 abi 和 bytecode </span></span><br><span class="line"><span class="keyword">const</span> contractPath = path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../compiled/Voting.json&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; interface, bytecode &#125; = <span class="built_in">require</span>(contractPath);</span><br><span class="line">(<span class="title function_">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="comment">// 2. 获取钱包里面的账户</span></span><br><span class="line">    <span class="keyword">const</span> accounts = <span class="keyword">await</span> web3.<span class="property">eth</span>.<span class="title function_">getAccounts</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;部署合约的账户：&#x27;</span>, accounts[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// 3. 创建合约实例并且部署</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;合约部署耗时&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> result = <span class="keyword">await</span> <span class="keyword">new</span></span><br><span class="line">        web3.<span class="property">eth</span>.<span class="title class_">Contract</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(interface))</span><br><span class="line">        .<span class="title function_">deploy</span>(&#123;<span class="attr">data</span>: bytecode&#125;)</span><br><span class="line">        .<span class="title function_">send</span>(&#123;</span><br><span class="line">            <span class="attr">from</span>: accounts[<span class="number">0</span>],</span><br><span class="line">            <span class="attr">gas</span>: <span class="number">1500000</span>,</span><br><span class="line">            <span class="attr">gasPrice</span>: <span class="string">&#x27;30000000000000&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">newContractInstance</span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;合约部署成功: &#x27;</span> + newContractInstance.<span class="property">options</span>.<span class="property">address</span>) <span class="comment">// instance with the new contract address</span></span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;合约部署耗时&#x27;</span>);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h2 id="部署合约"><a href="#部署合约" class="headerlink" title="部署合约"></a>部署合约</h2><p>1.手动启动ganache程序，运行一个节点，保持终端不关闭</p>
<blockquote>
<p><code>.\node_modules\.bin\ganache-cli</code></p>
</blockquote>
<p>2.编译voting.sol投票合约</p>
<blockquote>
<p><code>node .\contract_workflow\scripts\compile.js</code></p>
</blockquote>
<p>contract_workflow目录下面会出现Voting.json文件，后面index.js会用到该文件中的内容</p>
<p>3.部署合约</p>
<blockquote>
<p><code>node .\contract_workflow\scripts\deploy.js</code></p>
</blockquote>
<p>会出现以下信息</p>
<blockquote>
<p>部署合约的账户： 0x8C6ba0616f05909eCb334C1a3707C38a8d7bDd0F</p>
<p>合约部署成功: 0xaCCBC818BC9224A6da2902eeF82c3d14afC82aB5</p>
<p>合约部署耗时: 345.211ms</p>
</blockquote>
<h2 id="网页交互代码index-html"><a href="#网页交互代码index-html" class="headerlink" title="网页交互代码index.html"></a>网页交互代码index.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Voting DApp<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&#x27;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&#x27;</span> <span class="attr">rel</span>=<span class="string">&#x27;stylesheet&#x27;</span> <span class="attr">type</span>=<span class="string">&#x27;text/css&#x27;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>A Simple Voting Application<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;table-responsive&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;table table-bordered&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Candidate<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Votes<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Candidate<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">&quot;candidate-1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Alice<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">&quot;candidate-2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cary<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">&quot;candidate-3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;candidate&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;vote()&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span>&gt;</span>Vote<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://code.jquery.com/jquery-3.1.1.slim.min.js&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="网页交互index-js"><a href="#网页交互index-js" class="headerlink" title="网页交互index.js"></a>网页交互index.js</h2><p>要注意<code>contractAddr</code>和<code>abi</code>两个变量的值，</p>
<p>contractAddr是在部署合约时获取的</p>
<p>abi是从Voting.json中的interface获取的，打开Voting.json即可看到interface对象内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// const path = require(&#x27;path&#x27;);</span></span><br><span class="line"><span class="keyword">const</span> web3 = <span class="keyword">new</span> <span class="title class_">Web3</span>(<span class="keyword">new</span> <span class="title class_">Web3</span>.<span class="property">providers</span>.<span class="title class_">HttpProvider</span>(<span class="string">&quot;http://localhost:8545&quot;</span>));</span><br><span class="line"><span class="comment">// const contractPath = path.resolve(__dirname, &#x27;../contract_workflow/compiled/Voting.json&#x27;);</span></span><br><span class="line"><span class="comment">// 部署的只能合约地址</span></span><br><span class="line">contractAddr = <span class="string">&quot;0xaCCBC818BC9224A6da2902eeF82c3d14afC82aB5&quot;</span>;</span><br><span class="line"><span class="comment">// abi内容，从Voting.json中拷贝interface对象的内容，由于内容过程，这里就省略了</span></span><br><span class="line">abi = <span class="string">&quot;&quot;</span></span><br><span class="line">contractInstance = <span class="keyword">new</span> web3.<span class="property">eth</span>.<span class="title class_">Contract</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(abi),contractAddr);</span><br><span class="line">candidates = &#123; <span class="string">&quot;Candidate&quot;</span>: <span class="string">&quot;candidate-1&quot;</span>, <span class="string">&quot;Alice&quot;</span>: <span class="string">&quot;candidate-2&quot;</span>, <span class="string">&quot;Cary&quot;</span>: <span class="string">&quot;candidate-3&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> accounts;</span><br><span class="line">web3.<span class="property">eth</span>.<span class="title function_">getAccounts</span>().<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> accounts = result);</span><br><span class="line"></span><br><span class="line"> <span class="keyword">function</span> <span class="title function_">vote</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> candidateName = $(<span class="string">&quot;#candidate&quot;</span>).<span class="title function_">val</span>();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        contractInstance.<span class="property">methods</span>.<span class="title function_">vote</span>(<span class="title function_">stringtoHex</span>(candidateName)).<span class="title function_">send</span>(&#123;<span class="attr">from</span>: accounts[<span class="number">0</span>] &#125;)</span><br><span class="line">        .<span class="title function_">on</span>(<span class="string">&#x27;transactionHash&#x27;</span>, <span class="keyword">function</span>(<span class="params">hash</span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hash:&quot;</span> + hash)</span><br><span class="line">            contractInstance.<span class="property">methods</span>.<span class="title function_">totalVotesFor</span>(<span class="title function_">stringtoHex</span>(candidateName)).<span class="title function_">call</span>().<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> $(<span class="string">&quot;#&quot;</span> + candidates[candidateName]).<span class="title function_">html</span>(result));</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">on</span>(<span class="string">&#x27;confirmation&#x27;</span>, <span class="keyword">function</span>(<span class="params">confirmationNumber, receipt</span>)&#123;</span><br><span class="line">            <span class="comment">// console.log(confirmationNumber,receipt)</span></span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">on</span>(<span class="string">&#x27;receipt&#x27;</span>, <span class="keyword">function</span>(<span class="params">receipt</span>)&#123;</span><br><span class="line">            <span class="comment">// receipt example</span></span><br><span class="line">            <span class="comment">// console.log(&quot;receipt&quot; +receipt);</span></span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="variable language_">console</span>.<span class="property">error</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">     &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">// 需转成16进制的才能给合约中byte32的数据传参，且前缀要加上0x</span></span><br><span class="line"><span class="keyword">var</span> stringtoHex = <span class="keyword">function</span> (<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> val = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (val == <span class="string">&quot;&quot;</span>)</span><br><span class="line">            val = str.<span class="title function_">charCodeAt</span>(i).<span class="title function_">toString</span>(<span class="number">16</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            val += str.<span class="title function_">charCodeAt</span>(i).<span class="title function_">toString</span>(<span class="number">16</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;0x&quot;</span>+val</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    candidateNames = <span class="title class_">Object</span>.<span class="title function_">keys</span>(candidates);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; candidateNames.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> name = candidateNames[i];</span><br><span class="line">        contractInstance.<span class="property">methods</span>.<span class="title function_">totalVotesFor</span>(<span class="title function_">stringtoHex</span>(name)).<span class="title function_">call</span>().<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> $(<span class="string">&quot;#&quot;</span> + candidates[name]).<span class="title function_">html</span>(result));</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>在本地打开src&#x2F;index.html，出现以下界面</p>
<p><img src="/img/voting2.png" alt="image-20210629174325035"></p>
<p>在输入框中输入对应投票对象的名字，点击<code>Vote</code>按钮即可为指定对象增加票数</p>
<p>至此，一个完整的demo就完成了！！</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>本项目是一个比较基础的区块链demo，但是还有很多要优化的地方</p>
<ul>
<li>基于ganache启动的节点在关闭后，需要重新部署合约</li>
<li>部署合约编译部署分为了两步，很繁琐</li>
<li>部署合约后要手动修改index.js中合约地址和abi</li>
</ul>
<p>所以自动化的流程还是比较繁琐的</p>
<p>但是通过这个小demo，可以学到的东西还是很多的，比如如何用node通过ganache启动一个本地私有节点、如何编译合约、部署合约、调用合约</p>
<p>后期会介绍一个更自动化、更简便的框架Truffle去实现以上步骤，通过Truffle框架把以上很多编译，部署的脚本都帮我们完成了，所以学了这个demo后，学习truffle会更加得心应手</p>
<h2 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h2><p>感谢尚硅谷的区块链教程：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1NJ411D7rf">https://www.bilibili.com/video/BV1NJ411D7rf</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mrxccc.github.io/posts/78ae6864.html" data-id="cm5kxt8oe003bkku41op3hw0s" data-title="Ganache搭建一个以太坊投票dapp的Demo" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" rel="tag">区块链</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/posts/50d0f520.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          区块链Defi新项目记录
        
      </div>
    </a>
  
  
    <a href="/posts/c2accabf.html" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">Java8新特性-新时间与日期API</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IC/">IC</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java8%E6%96%B0%E7%89%B9%E6%80%A7/">Java8新特性</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Sonarquber/">Sonarquber</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/dfinity/">dfinity</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/gitlab-ci/">gitlab-ci</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring/">spring</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BB%8E%E6%9C%8D%E5%8A%A1%E5%8C%96%E5%88%B0%E4%BA%91%E5%8E%9F%E7%94%9F/">从服务化到云原生</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%A1%A8%E6%A0%BC%E5%A4%84%E7%90%86/">表格处理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/IC/" rel="tag">IC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/POI/" rel="tag">POI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dfinity/" rel="tag">dfinity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/easyexcel/" rel="tag">easyexcel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" rel="tag">区块链</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9F%A5%E8%AF%86%E9%9D%A2/" rel="tag">知识面</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A1%A8%E6%A0%BC%E5%A4%84%E7%90%86/" rel="tag">表格处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AC%E8%BD%BD/" rel="tag">转载</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/IC/" style="font-size: 20px;">IC</a> <a href="/tags/POI/" style="font-size: 13.33px;">POI</a> <a href="/tags/dfinity/" style="font-size: 10px;">dfinity</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/easyexcel/" style="font-size: 10px;">easyexcel</a> <a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" style="font-size: 13.33px;">区块链</a> <a href="/tags/%E7%9F%A5%E8%AF%86%E9%9D%A2/" style="font-size: 10px;">知识面</a> <a href="/tags/%E8%A1%A8%E6%A0%BC%E5%A4%84%E7%90%86/" style="font-size: 13.33px;">表格处理</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 16.67px;">设计模式</a> <a href="/tags/%E8%BD%AC%E8%BD%BD/" style="font-size: 10px;">转载</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">一月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">十一月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">九月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/posts/undefined.html">solidity语言特性之数据类型</a>
          </li>
        
          <li>
            <a href="/posts/66a907b1.html">Gitlab-CICD最简单明了的入门教程</a>
          </li>
        
          <li>
            <a href="/posts/f73eb048.html">设计模式-拦截过滤器</a>
          </li>
        
          <li>
            <a href="/posts/fc25c4a4.html">IC中的账户及相关操作</a>
          </li>
        
          <li>
            <a href="/posts/f78d4d0c.html">IC上出色的基础设施（持续更新）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 mrxccc<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>